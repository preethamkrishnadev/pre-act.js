{"version":3,"file":"pre-act.esm.js","sources":["../core/vdom.js","../core/config.js","../core/logger.js","../core/events.js","../core/store.js","../core/router.js","../core/render.js","../core/hooks.js","../core/pages.js","../core/createApp.js","../core/safe-storage.js","../core/env.js","../core/api.js","../core/mixin.js","../core/memo.js","../core/animation.js","../core/polyfills.js"],"sourcesContent":["export function createElement(type, props = {}, ...children) {\n    return { type, props: props || {}, children };\n  }\n  ","export default {\n    isDebugMode: false,\n    isSSR: false,\n}","export function pushToDataLayer(eventName, params) {\n  window.dataLayer = window.dataLayer || [];\n  window.dataLayer.push({ event: eventName, ...params });\n}\n\nexport function pushToFeLogs(eventName, params) {\n  window.felogs = window.felogs || [];\n  window.felogs.push({ event: eventName, ...params });\n}\n\nexport function logEvent(componentName, eventName, params = {}) {\n  pushToDataLayer(eventName, params);\n  pushToFeLogs(eventName, params);\n\n  if (window.__preact_debug__) {\n    console.groupCollapsed(`[Logging] ${componentName}`);\n    console.log('Event:', eventName);\n    console.log('Params:', params);\n    console.groupEnd();\n  }\n}\n","const globalListeners = new Map();\nlet idCounter = 0;\n\nexport function triggerEvent(eventName, payload, scope = null) {\n  globalListeners.forEach(({ event, callback, componentName }) => {\n    if (event === eventName && (!scope || scope.includes(componentName))) {\n      callback(payload);\n    }\n  });\n}\n\nexport function registerListener(event, callback, componentName) {\n  const id = ++idCounter;\n  globalListeners.set(id, { event, callback, componentName });\n  return () => globalListeners.delete(id);\n}\n","import { rerender } from './rerender.js';\n\nconst globalStore = {};\nlet storeListeners = new Set();\n\nfunction deepSet(obj, path, value) {\n  const keys = path.split('.');\n  let current = obj;\n  for (let i = 0; i < keys.length - 1; i++) {\n    if (!current[keys[i]]) current[keys[i]] = {};\n    current = current[keys[i]];\n  }\n  current[keys[keys.length - 1]] = value;\n}\n\nfunction deepGet(obj, path) {\n  return path.split('.').reduce((acc, key) => acc?.[key], obj);\n}\n\nfunction createStoreProxy(state) {\n  return new Proxy(state, {\n    get(target, key) {\n      const value = target[key];\n      if (typeof value === 'object' && value !== null) {\n        return createStoreProxy(value);\n      }\n      return value;\n    },\n    set(target, key, value) {\n      target[key] = value;\n      storeListeners.forEach(fn => fn(globalStore));\n      rerender();\n      return true;\n    }\n  });\n}\n\nexport const $store = createStoreProxy(globalStore);\n\nexport function setStoreValue(path, value) {\n  deepSet(globalStore, path, value);\n  storeListeners.forEach(fn => fn(globalStore));\n  rerender();\n}\n\nexport function useStoreSubscribe(listener) {\n  storeListeners.add(listener);\n  return () => storeListeners.delete(listener);\n}\n","import { rerender } from './rerender.js';\n\nconst globalMiddlewares = [];\n\nexport function useGlobalMiddleware(middlewareFn) {\n  globalMiddlewares.push(middlewareFn);\n}\n\nexport function buildPath(template, query = {}, params = {}) {\n  let path = template;\n\n  path = path.replace(/{(.*?)}/g, (_, key) => params[key] || '');\n\n  const queryStr = Object.entries(query)\n    .map(([k, v]) => `${encodeURIComponent(k)}=${encodeURIComponent(v)}`)\n    .join('&');\n\n  return queryStr ? `${path}?${queryStr}` : path;\n}\n\nfunction pathToRegex(path) {\n  return new RegExp('^' + path\n    .replace(/:([\\w]+)\\*/g, '(.*)')    // catch all\n    .replace(/:([\\w]+)/g, '([^/]+)')   // single dynamic\n    + '$');\n}\n\nfunction getParams(match, route) {\n  const values = match.slice(1);\n  const keys = Array.from(route.path.matchAll(/:([\\w]+)\\*?/g)).map(m => m[1]);\n\n  const params = {};\n  keys.forEach((key, index) => {\n    const raw = values[index];\n    params[key] = raw.includes('/') ? raw.split('/') : raw;\n  });\n\n  return params;\n}\n\nexport function Router({ routes, fallback = () => '404 Not Found' }) {\n  let current = {\n    path: window.location.pathname,\n    params: {},\n    component: fallback\n  };\n\n  async function onLocationChange() {\n    const pathname = window.location.pathname;\n\n    for (const route of routes) {\n      const regex = pathToRegex(route.path);\n      const match = pathname.match(regex);\n\n      if (match) {\n        const params = getParams(match, route);\n        const context = { path: pathname, params };\n\n        for (const mw of globalMiddlewares) {\n          const result = await mw(context);\n          if (result === false) return;\n          if (typeof result === 'string') return navigate(result);\n        }\n\n        if (route.middleware) {\n          const middlewares = Array.isArray(route.middleware) ? route.middleware : [route.middleware];\n          for (const mw of middlewares) {\n            const result = await mw(context);\n            if (result === false) return;\n            if (typeof result === 'string') return navigate(result);\n          }\n        }\n\n        current = { path: pathname, params, component: route.component };\n        rerender();\n        return;\n      }\n    }\n\n    current = { path: pathname, params: {}, component: fallback };\n    rerender();\n  }\n\n  window.addEventListener('popstate', onLocationChange);\n  onLocationChange();\n\n  const Page = current.component;\n  return Page ? Page({ params: current.params }) : null;\n}\n\nexport function navigate(path) {\n  window.history.pushState({}, '', path);\n  window.dispatchEvent(new Event('popstate'));\n}\n","import preactConfig from './config.js';\nimport { logEvent } from './logger.js';\nimport { triggerEvent, registerListener } from './events.js';\nimport { $store, setStoreValue } from './store.js';\nimport { navigate, buildPath } from './router.js';\n\nexport function render(vnode, container) {\n  container.innerHTML = '';\n  container.appendChild(createDomElement(vnode));\n}\n\nexport function rerender() {\n  // Add rerender logic if needed for future diff optimization\n}\n\nexport function createDomElement(vnode) {\n  if (typeof vnode === 'string' || typeof vnode === 'number') {\n    return document.createTextNode(vnode);\n  }\n  \n  if (typeof vnode.type === 'function') {\n    const node = createNode(vnode);\n    const componentVNode = vnode.type({ ...vnode.props }, node);\n    const el = createDomElement(componentVNode);\n    \n    setTimeout(() => {\n      if (preactConfig.isDebugMode) node.log('mounted');\n    }, 0);\n    \n    return el;\n  }\n  \n  const el = document.createElement(vnode.type);\n  \n  for (const [name, value] of Object.entries(vnode.props || {})) {\n    if (name.startsWith('@')) {\n      el.addEventListener(name.slice(1), value);\n    } else {\n      el.setAttribute(name, value);\n    }\n  }\n  \n  for (const child of vnode.children) {\n    el.appendChild(createDomElement(child));\n  }\n  \n  return el;\n}\n\nfunction createNode(vnode) {\n  const url = new URL(window.location.href);\n\n  const node = {\n    path: url.pathname,\n    host: url.host,\n    queryParams: Object.fromEntries(url.searchParams.entries()),\n    hash: url.hash,\n    urlParams: vnode.props?.params || {},\n    forceRender: false,\n    $store: $store,\n    store: (keyPath, value) => setStoreValue(keyPath, value),\n    storeSlice: (slice) => ({\n      store: (keyPath, value) => setStoreValue(`${slice}.${keyPath}`, value)\n    }),\n    log: (eventName, ...params) => {\n      logEvent(vnode.type.name || 'UnknownComponent', eventName, params[0] || {});\n    },\n    navigate: (pathTemplate, queryParams = {}, params = {}) => {\n      navigate(buildPath(pathTemplate, queryParams, params));\n    },\n    trigger(eventName, payload) {\n      triggerEvent(eventName, payload);\n    },\n    onTrigger(eventName, callback) {\n      const componentName = vnode.type.name || 'UnknownComponent';\n      return registerListener(eventName, callback, componentName);\n    }\n  };\n\n  if (preactConfig.isDebugMode) {\n    node.log('created');\n  }\n  \n  return node;\n}\n","import { rerender } from './rerender.js';\n\nexport function useState(initialState = {}) {\n  let listeners = new Set();\n  let changeWatchers = new Map();\n  let currentState = initialState;\n\n  function notifyChange(newState, oldState) {\n    for (const [key, callback] of changeWatchers) {\n      if (key === '*') {\n        callback(newState, oldState);\n      } else {\n        const keys = key.split('.');\n        const newVal = keys.reduce((acc, k) => acc?.[k], newState);\n        const oldVal = keys.reduce((acc, k) => acc?.[k], oldState);\n        if (newVal !== oldVal) {\n          callback(newVal, oldVal);\n        }\n      }\n    }\n  }\n\n  function createProxy(state, rootPath = '') {\n    return new Proxy(state, {\n      get(target, prop) {\n        const value = target[prop];\n        if (typeof value === 'object' && value !== null) {\n          return createProxy(value, `${rootPath}${prop}.`);\n        }\n        return value;\n      },\n      set(target, prop, value) {\n        const oldState = JSON.parse(JSON.stringify(currentState));\n        target[prop] = value;\n        notifyChange(currentState, oldState);\n        listeners.forEach(fn => fn(currentState));\n        rerender();\n        return true;\n      }\n    });\n  }\n\n  const proxyState = createProxy(currentState);\n\n  function onLocalStateChange(watchers) {\n    if (typeof watchers === 'function') {\n      changeWatchers.set('*', watchers);\n    } else {\n      Object.entries(watchers).forEach(([path, callback]) => {\n        changeWatchers.set(path, callback);\n      });\n    }\n  }\n\n  function setLocalState(updater) {\n    const oldState = JSON.parse(JSON.stringify(currentState));\n    if (typeof updater === 'function') {\n      currentState = updater(currentState);\n    } else {\n      currentState = { ...currentState, ...updater };\n    }\n    notifyChange(currentState, oldState);\n    listeners.forEach(fn => fn(currentState));\n    rerender();\n  }\n\n  return [proxyState, onLocalStateChange, setLocalState];\n}\n","export function loadPages() {\n  const pages = import.meta.glob('/resources/js/pages/**/page.jsx', { eager: true });\n\n  const routes = [];\n\n  for (const path in pages) {\n    const page = pages[path];\n\n    let routePath = path\n      .replace('/resources/js/pages', '')\n      .replace('/page.jsx', '')\n      .replace(/\\*as\\[(.*?)\\]/g, ':$1*')\n      .replace(/\\[(.*?)\\]/g, ':$1')\n      .replace(/\\/index$/, '/');\n\n    routes.push({\n      path: routePath === '' ? '/' : routePath,\n      component: page.default,\n      middleware: page.middleware || []\n    });\n  }\n\n  return routes;\n}\n","import { createElement } from './vdom.js';\nimport { render } from './render.js';\nimport preactConfig from './config.js';\n\nexport function createApp(App, selector = '#app', props = {}) {\n  const container = document.querySelector(selector);\n\n  function mount() {\n    import('./polyfills.js');\n    const vnode = createElement(App, props);\n    render(vnode, container);\n  }\n\n  const app = {\n    mount,\n    debug: false\n  };\n\n  Object.defineProperty(app, 'debug', {\n    get: () => preactConfig.isDebugMode,\n    set: (value) => {\n      preactConfig.isDebugMode = value;\n      window.__preact_debug__ = value;\n    }\n  });\n\n  return app;\n}\n","function safeStorage(storage) {\n  try {\n    storage.setItem('__test', '1');\n    storage.removeItem('__test');\n    return storage;\n  } catch {\n    let memory = {};\n    return {\n      getItem: (k) => memory[k],\n      setItem: (k, v) => memory[k] = v,\n      removeItem: (k) => delete memory[k],\n      clear: () => { memory = {}; }\n    };\n  }\n}\n\nexport const SafeLocalStorage = safeStorage(window.localStorage);\nexport const SafeSessionStorage = safeStorage(window.sessionStorage);\n","const ENVIRONMENTS = {\n  development: { apiBaseURL: 'http://localhost:3000/api' },\n  staging: { apiBaseURL: 'https://staging.api.dreamtree.in.net/api' },\n  production: { apiBaseURL: 'https://api.dreamtree.in.net/api' }\n};\n\nexport const ENV = (() => {\n  const hostname = window.location.hostname;\n  if (hostname.includes('localhost')) return ENVIRONMENTS.development;\n  if (hostname.includes('staging')) return ENVIRONMENTS.staging;\n  return ENVIRONMENTS.production;\n})();\n","import { ENV } from './env.js';\n\nexport async function api(path, method = 'GET', body = null, headers = {}) {\n  const url = ENV.apiBaseURL + path;\n  const options = { method, headers: { 'Content-Type': 'application/json', ...headers } };\n  if (body) options.body = JSON.stringify(body);\n\n  const res = await fetch(url, options);\n  return res.headers.get('content-type')?.includes('application/json') ? res.json() : res.text();\n}\n","export const Mixin = {\n  Providers({ value, children }) {\n    window.__preact_context = { ...window.__preact_context, ...value };\n    return children;\n  }\n};\n","function deepEqual(obj1, obj2) {\n  return JSON.stringify(obj1) === JSON.stringify(obj2);\n}\n\nexport function memo(Component, areEqual = deepEqual) {\n  return function MemoizedComponent(props, node) {\n    const cacheKey = `${Component.name}_${JSON.stringify(props)}`;\n    const lastRender = node.memoCache?.[Component.name];\n\n    if (lastRender && areEqual(lastRender.props, props)) {\n      return lastRender.vnode;\n    }\n\n    const vnode = Component(props, node);\n    node.memoCache = node.memoCache || {};\n    node.memoCache[Component.name] = { props, vnode };\n    return vnode;\n  };\n}\n","export function onEnter(el, animation = 'fade-in') {\n  el.classList.add('preact-anim-enter', animation);\n  requestAnimationFrame(() => {\n    el.classList.add('preact-anim-enter-active');\n  });\n}\n\nexport function onExit(el, animation = 'fade-out', done = () => {}) {\n  el.classList.add('preact-anim-exit', animation);\n  el.addEventListener('animationend', done, { once: true });\n}\n","if (typeof Promise === 'undefined') {\n    import('https://cdn.jsdelivr.net/npm/promise-polyfill@8/dist/polyfill.min.js');\n  }\n  \n  if (typeof Object.assign !== 'function') {\n    Object.assign = function(target, ...args) {\n      if (target == null) throw new TypeError('Cannot convert undefined or null to object');\n      for (let i = 0; i < args.length; i++) {\n        const source = args[i];\n        if (source != null) {\n          for (const key in source) {\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\n              target[key] = source[key];\n            }\n          }\n        }\n      }\n      return target;\n    };\n  }\n  "],"names":["createElement","type","props","children","preactConfig","isDebugMode","isSSR","logEvent","componentName","eventName","params","window","dataLayer","push","event","pushToDataLayer","felogs","pushToFeLogs","__preact_debug__","console","groupCollapsed","log","groupEnd","globalListeners","Map","idCounter","globalStore","storeListeners","Set","$store","createStoreProxy","state","Proxy","get","target","key","value","set","forEach","fn","setStoreValue","path","obj","keys","split","current","i","length","deepSet","useStoreSubscribe","listener","add","delete","globalMiddlewares","useGlobalMiddleware","middlewareFn","getParams","match","route","values","slice","Array","from","matchAll","map","m","index","raw","includes","Router","routes","fallback","location","pathname","component","async","onLocationChange","regex","RegExp","replace","context","mw","result","navigate","middleware","middlewares","isArray","addEventListener","Page","history","pushState","dispatchEvent","Event","render","vnode","container","innerHTML","appendChild","createDomElement","rerender","document","createTextNode","node","url","URL","href","host","queryParams","Object","fromEntries","searchParams","entries","hash","urlParams","forceRender","store","keyPath","storeSlice","name","pathTemplate","template","query","_","queryStr","k","v","encodeURIComponent","join","buildPath","trigger","payload","scope","callback","triggerEvent","onTrigger","id","registerListener","createNode","el","setTimeout","startsWith","setAttribute","child","useState","initialState","listeners","changeWatchers","currentState","notifyChange","newState","oldState","newVal","reduce","acc","oldVal","proxyState","createProxy","rootPath","prop","JSON","parse","stringify","watchers","updater","loadPages","pages","glob","eager","page","routePath","default","createApp","App","selector","querySelector","app","mount","Promise","debug","defineProperty","safeStorage","storage","setItem","removeItem","memory","getItem","clear","SafeLocalStorage","localStorage","SafeSessionStorage","sessionStorage","ENVIRONMENTS","apiBaseURL","ENV","hostname","api","method","body","headers","options","res","fetch","json","text","Mixin","Providers","__preact_context","deepEqual","obj1","obj2","memo","Component","areEqual","lastRender","memoCache","onEnter","animation","classList","requestAnimationFrame","onExit","done","once","import","assign","args","TypeError","source","prototype","hasOwnProperty","call"],"mappings":"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"}