function e(e,t={},...n){return{type:e,props:t||{},children:n}}var t={isDebugMode:!1,isSSR:!1};function n(e,t,n={}){!function(e,t){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:e,...t})}(t,n),function(e,t){window.felogs=window.felogs||[],window.felogs.push({event:e,...t})}(t,n),window.__preact_debug__&&(console.groupCollapsed(`[Logging] ${e}`),console.log("Event:",t),console.log("Params:",n),console.groupEnd())}const o=new Map;let r=0;const a={};let c=new Set;const s=function e(t){return new Proxy(t,{get(t,n){const o=t[n];return"object"==typeof o&&null!==o?e(o):o},set:(e,t,n)=>(e[t]=n,c.forEach((e=>e(a))),!0)})}(a);function i(e,t){!function(e,t,n){const o=t.split(".");let r=e;for(let e=0;e<o.length-1;e++)r[o[e]]||(r[o[e]]={}),r=r[o[e]];r[o[o.length-1]]=n}(a,e,t),c.forEach((e=>e(a)))}function p(e){return c.add(e),()=>c.delete(e)}const u=[];function l(e){u.push(e)}function f(e,t){const n=e.slice(1),o=Array.from(t.path.matchAll(/:([\w]+)\*?/g)).map((e=>e[1])),r={};return o.forEach(((e,t)=>{const o=n[t];r[e]=o.includes("/")?o.split("/"):o})),r}function d({routes:e,fallback:t=()=>"404 Not Found"}){let n={path:window.location.pathname,params:{},component:t};async function o(){const o=window.location.pathname;for(const t of e){const e=(r=t.path,new RegExp("^"+r.replace(/:([\w]+)\*/g,"(.*)").replace(/:([\w]+)/g,"([^/]+)")+"$")),a=o.match(e);if(a){const e=f(a,t),r={path:o,params:e};for(const e of u){const t=await e(r);if(!1===t)return;if("string"==typeof t)return m(t)}if(t.middleware){const e=Array.isArray(t.middleware)?t.middleware:[t.middleware];for(const t of e){const e=await t(r);if(!1===e)return;if("string"==typeof e)return m(e)}}return void(n={path:o,params:e,component:t.component})}}var r;n={path:o,params:{},component:t}}window.addEventListener("popstate",o),o();const r=n.component;return r?r({params:n.params}):null}function m(e){window.history.pushState({},"",e),window.dispatchEvent(new Event("popstate"))}function g(e,t){t.innerHTML="",t.appendChild(h(e))}function w(){}function h(e){if("string"==typeof e||"number"==typeof e)return document.createTextNode(e);if("function"==typeof e.type){const a=function(e){const a=new URL(window.location.href),c={path:a.pathname,host:a.host,queryParams:Object.fromEntries(a.searchParams.entries()),hash:a.hash,urlParams:e.props?.params||{},forceRender:!1,$store:s,store:(e,t)=>i(e,t),storeSlice:e=>({store:(t,n)=>i(`${e}.${t}`,n)}),log:(t,...o)=>{n(e.type.name||"UnknownComponent",t,o[0]||{})},navigate:(e,t={},n={})=>{m(function(e,t={},n={}){let o=e;o=o.replace(/{(.*?)}/g,((e,t)=>n[t]||""));const r=Object.entries(t).map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`)).join("&");return r?`${o}?${r}`:o}(e,t,n))},trigger(e,t){!function(e,t,n=null){o.forEach((({event:o,callback:r,componentName:a})=>{o!==e||n&&!n.includes(a)||r(t)}))}(e,t)},onTrigger:(t,n)=>function(e,t,n){const a=++r;return o.set(a,{event:e,callback:t,componentName:n}),()=>o.delete(a)}(t,n,e.type.name||"UnknownComponent")};t.isDebugMode&&c.log("created");return c}(e),c=h(e.type({...e.props},a));return setTimeout((()=>{t.isDebugMode&&a.log("mounted")}),0),c}const a=document.createElement(e.type);for(const[t,n]of Object.entries(e.props||{}))t.startsWith("@")?a.addEventListener(t.slice(1),n):a.setAttribute(t,n);for(const t of e.children)a.appendChild(h(t));return a}function y(e={}){let t=new Set,n=new Map,o=e;function r(e,t){for(const[o,r]of n)if("*"===o)r(e,t);else{const n=o.split("."),a=n.reduce(((e,t)=>e?.[t]),e),c=n.reduce(((e,t)=>e?.[t]),t);a!==c&&r(a,c)}}const a=function e(n,a=""){return new Proxy(n,{get(t,n){const o=t[n];return"object"==typeof o&&null!==o?e(o,`${a}${n}.`):o},set(e,n,a){const c=JSON.parse(JSON.stringify(o));return e[n]=a,r(o,c),t.forEach((e=>e(o))),!0}})}(o);return[a,function(e){"function"==typeof e?n.set("*",e):Object.entries(e).forEach((([e,t])=>{n.set(e,t)}))},function(e){const n=JSON.parse(JSON.stringify(o));o="function"==typeof e?e(o):{...o,...e},r(o,n),t.forEach((e=>e(o)))}]}function b(){const e=import.meta.glob("/resources/js/pages/**/page.jsx",{eager:!0}),t=[];for(const n in e){const o=e[n];let r=n.replace("/resources/js/pages","").replace("/page.jsx","").replace(/\*as\[(.*?)\]/g,":$1*").replace(/\[(.*?)\]/g,":$1").replace(/\/index$/,"/");t.push({path:""===r?"/":r,component:o.default,middleware:o.middleware||[]})}return t}function v(n,o="#app",r={}){const a=document.querySelector(o);const c={mount:function(){Promise.resolve().then((function(){return J})),g(e(n,r),a)},debug:!1};return Object.defineProperty(c,"debug",{get:()=>t.isDebugMode,set:e=>{t.isDebugMode=e,window.__preact_debug__=e}}),c}function _(e){try{return e.setItem("__test","1"),e.removeItem("__test"),e}catch{let e={};return{getItem:t=>e[t],setItem:(t,n)=>e[t]=n,removeItem:t=>delete e[t],clear:()=>{e={}}}}}const j=_(window.localStorage),E=_(window.sessionStorage),O={apiBaseURL:"http://localhost:3000/api"},S={apiBaseURL:"https://staging.api.dreamtree.in.net/api"},L={apiBaseURL:"https://api.dreamtree.in.net/api"},$=(()=>{const e=window.location.hostname;return e.includes("localhost")?O:e.includes("staging")?S:L})();async function C(e,t="GET",n=null,o={}){const r=$.apiBaseURL+e,a={method:t,headers:{"Content-Type":"application/json",...o}};n&&(a.body=JSON.stringify(n));const c=await fetch(r,a);return c.headers.get("content-type")?.includes("application/json")?c.json():c.text()}const x={Providers:({value:e,children:t})=>(window.__preact_context={...window.__preact_context,...e},t)};function N(e,t){return JSON.stringify(e)===JSON.stringify(t)}function P(e,t=N){return function(n,o){e.name,JSON.stringify(n);const r=o.memoCache?.[e.name];if(r&&t(r.props,n))return r.vnode;const a=e(n,o);return o.memoCache=o.memoCache||{},o.memoCache[e.name]={props:n,vnode:a},a}}function R(e,t="fade-in"){e.classList.add("preact-anim-enter",t),requestAnimationFrame((()=>{e.classList.add("preact-anim-enter-active")}))}function U(e,t="fade-out",n=()=>{}){e.classList.add("preact-anim-exit",t),e.addEventListener("animationend",n,{once:!0})}"undefined"==typeof Promise&&import("https://cdn.jsdelivr.net/npm/promise-polyfill@8/dist/polyfill.min.js"),"function"!=typeof Object.assign&&(Object.assign=function(e,...t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(let n=0;n<t.length;n++){const o=t[n];if(null!=o)for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}return e});var J=Object.freeze({__proto__:null});export{s as $store,$ as ENV,x as Mixin,d as Router,j as SafeLocalStorage,E as SafeSessionStorage,C as api,v as createApp,e as createElement,b as loadPages,P as memo,m as navigate,R as onEnter,U as onExit,g as render,w as rerender,i as setStoreValue,l as useGlobalMiddleware,y as useState,p as useStoreSubscribe};
//# sourceMappingURL=pre-act.esm.js.map
